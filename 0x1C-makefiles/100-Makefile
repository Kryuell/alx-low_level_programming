CC := gcc
NAME := school
SRC := main.c school.c
OBJ := $(SRC:.c=.o)
CFLAGS := -Wall -Werror -Wextra -pedantic

.PHONY: all clean fclean oclean re

all: $(NAME)

$(NAME): $(SRC)
	$(CC) $(CFLAGS) -o $(NAME) $(SRC)

clean:
	@find . -type f \( -name '*~' -o -name '#*#' \) -exec rm -f {} +
	rm -f $(NAME)

oclean:
	rm -f $(OBJ)

fclean: clean oclean

re: fclean all

main.o: main.c

school.o: school.c

%.o: m.h